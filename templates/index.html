<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mi-Stack | Host Node.js</title>
    <!-- 


 _______ _________     _______ _________ _______  _______  _       
(       )\__   __/    (  ____ \\__   __/(  ___  )(  ____ \| \    /\
| () () |   ) (       | (    \/   ) (   | (   ) || (    \/|  \  / /
| || || |   | | _____ | (_____    | |   | (___) || |      |  (_/ / 
| |(_)| |   | |(_____)(_____  )   | |   |  ___  || |      |   _ (  
| |   | |   | |             ) |   | |   | (   ) || |      |  ( \ \ 
| )   ( |___) (___    /\____) |   | |   | )   ( || (____/\|  /  \ \
|/     \|\_______/    \_______)   )_(   |/     \|(_______/|_/    \/
                                                                   



🚀 Mi-Stack - Die Plattform für Node.js Hosting 🚀  
🌍 Mission: Landung auf dem Planeten Merkur  
👩‍🚀 Entwickelt von Missari, bereit zum Abflug!

🛡️ Alle Rechte vorbehalten © 2025 Missari  
⛔ Unbefugtes Kopieren oder Starten des Codes ist verboten!

🔧 Technologie: Containerisierte Sicherheit mit Docker  
🌐 Zugriff: /app/<uuid>/ für jede Anwendung

––––––––––––––––––––––––––––––––––––––––––––––––––––

🚀 Mi-Stack — Платформа для Node.js хостингу 🚀  
🌍 Місія: Посадка на планету Меркурій  
👩‍🚀 Розробник: Міссарі — готова до старту!

🛡️ Всі права захищені © 2025 Missari  
⛔ Несанкціонований запуск коду заборонено!

🔧 Технології: Безпечна контейнеризація через Docker  
🌐 Доступ: /app/<uuid>/ для кожного застосунку

––––––––––––––––––––––––––––––––––––––––––––––––––––

🛰️ Bleibe kreativ. Träume groß. / Мрій масштабно. Створюй зірки.
-->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-papHh5fZ4jU4rF5c3IGPLeuQH6pLgKZ6p7kn2APO+nX8J+7xVf3b+fZ+k5tZoJ5TZefp4XUQm52A6xmB5PBiIg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link rel="icon" href="{{ url_for('static', filename='fav.png') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='index_style.css') }}">
</head>
<body class="{% if not current_user.is_authenticated %}guest-mode{% endif %}">
  
  <div class="preloader" role="status" aria-live="polite" aria-label="Loading content">
    <canvas id="starfield"></canvas>
    <div class="galaxy">
      <i class="fas fa-star center-star"></i>
      <div class="orbit orbit1"><div class="planet"></div></div>
      <div class="orbit orbit2"><div class="planet"></div></div>
      <div class="orbit orbit3"><div class="planet"></div></div>
      <div class="orbit orbit4"><div class="planet"></div></div>
    </div>
    <div class="progress-container">
      <div class="progress-bar"></div>
    </div>
    <div class="percentage">0%</div>
  </div>

  
  <header class="{% if current_user.is_authenticated %}logged-in{% endif %}">
    <h1>
      🚀 
      {% if current_user.is_authenticated %}
        Mi-<span style="color: rgba(255, 0, 0, 0.637);">Stack</span>
      {% else %}
        Mi-Stack
      {% endif %}
    </h1>
    <p>Host your Node.js app with ZIP or GitHub — Free & Fast</p>
    <div class="auth-links">
      {% if current_user.is_authenticated %}
        <span style="color:white; font-weight:600;">🛸 {{ current_user.email.split('@')[0] }}</span>
        <a href="{{ url_for('logout') }}">Logout</a>
      {% else %}
        <a href="{{ url_for('login') }}">Login</a>
        <a href="{{ url_for('register') }}">Register</a>
      {% endif %}
    </div>
  </header>

  
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash-container">
        {% for category, msg in messages %}
          <div class="flash {{ category }}">{{ msg }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  
  <main>
    {% if not current_user.is_authenticated %}
      <div class="container">
        <h2>Welcome to Mi-Stack</h2>
        <div class="icon-row">
          <img src="https://cdn-icons-png.flaticon.com/512/1055/1055710.png"
               title="How it works" onclick="openModal('how')"/>
          <img src="https://cdn-icons-png.flaticon.com/512/2910/2910797.png"
               title="ZIP example" onclick="openModal('zip')"/>
          <img src="https://cdn-icons-png.flaticon.com/512/1995/1995522.png"
               title="About us" onclick="openModal('about')"/>
        </div>
        <p>Please <a href="{{ url_for('login') }}">login</a> or <a href="{{ url_for('register') }}">register</a> to start hosting your apps.</p>
      </div>
    {% else %}
      <div class="container">
        <h2>Deploy a New App</h2>
        <form action="{{ url_for('upload_zip') }}" method="POST" enctype="multipart/form-data">
          <label>Upload a ZIP file:</label>
          <input type="file" name="site_zip" accept=".zip" />

          <label>Or enter GitHub repo HTTPS URL:</label>
          <input type="text" name="github_url" placeholder="https://github.com/username/repo" />

          <input type="submit" value="Upload & Host" onclick="showUploadSpinner()">
          <div class="upload-spinner" id="uploadSpinner"></div>
        </form>

        <h2>Your Running Apps</h2>
        <table id="apps-table">
          <thead>
            <tr>
              <th>App ID</th>
              <th>URL</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    {% endif %}
  </main>

  
  <div class="modal-bg" id="modalBg">
    <div class="modal" id="modalContent"></div>
  </div>



  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/split-type"></script>
  <script src="{{ url_for('static', filename='obf_index/modal.js') }}"></script>
  <script src="{{ url_for('static', filename='obf_index/preloader.js') }}"></script>
  <script src="{{ url_for('static', filename='obf_index/apps.js') }}"></script>
  <script src="{{ url_for('static', filename='MobileView.js') }}"></script>
</body>
</html>
